<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Beta Access — sfpermits.ai</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container" style="max-width: 480px; margin: 60px auto; padding: 0 20px;">
    <div style="text-align:center; margin-bottom:32px;">
        <a href="/" style="text-decoration:none;">
            <span style="font-size:1.6rem; font-weight:800; color:#2563eb; letter-spacing:-0.5px;">sfpermits.ai</span>
        </a>
    </div>

    <div style="background:white; border:1px solid #e5e7eb; border-radius:12px; padding:32px;">
        <h1 style="font-size:1.4rem; margin:0 0 8px 0; color:#111827;">Request Beta Access</h1>
        <p style="color:#6b7280; font-size:0.9rem; margin:0 0 24px 0; line-height:1.5;">
            sfpermits.ai is currently invite-only. Tell us a bit about yourself
            and we'll review your request within 1–2 business days.
        </p>

        {% if message %}
        <div style="padding:12px 16px; border-radius:8px; margin-bottom:20px;
                    background:{% if message_type == 'error' %}#fef2f2; border:1px solid #fecaca; color:#991b1b;
                                {% else %}#f0fdf4; border:1px solid #bbf7d0; color:#166534;{% endif %}
                    font-size:0.9rem;">
            {{ message }}
        </div>
        {% endif %}

        {% if not submitted %}
        <form method="POST" action="/beta-request">
            <!-- Honeypot — hidden from real users, bots fill it -->
            <div style="display:none;" aria-hidden="true">
                <label for="website">Website (leave blank)</label>
                <input type="text" id="website" name="website" tabindex="-1" autocomplete="off">
            </div>

            <div style="margin-bottom:16px;">
                <label style="display:block; font-size:0.875rem; font-weight:500; color:#374151; margin-bottom:6px;">
                    Email address <span style="color:#ef4444;">*</span>
                </label>
                <input type="email" name="email" required
                       value="{{ prefill_email or '' }}"
                       placeholder="you@example.com"
                       style="width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:6px;
                              font-size:0.95rem; box-sizing:border-box; outline:none;">
            </div>

            <div style="margin-bottom:16px;">
                <label style="display:block; font-size:0.875rem; font-weight:500; color:#374151; margin-bottom:6px;">
                    Your name
                </label>
                <input type="text" name="name"
                       placeholder="Jane Smith"
                       style="width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:6px;
                              font-size:0.95rem; box-sizing:border-box; outline:none;">
            </div>

            <div style="margin-bottom:24px;">
                <label style="display:block; font-size:0.875rem; font-weight:500; color:#374151; margin-bottom:6px;">
                    What brings you to sfpermits.ai? <span style="color:#ef4444;">*</span>
                </label>
                <textarea name="reason" required rows="4"
                          placeholder="I'm a homeowner planning a kitchen remodel at 123 Main St and want to understand the permit process..."
                          style="width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:6px;
                                 font-size:0.95rem; resize:vertical; box-sizing:border-box; outline:none;
                                 font-family:inherit;"></textarea>
            </div>

            <button type="submit"
                    style="width:100%; padding:12px; background:#2563eb; color:white; border:none;
                           border-radius:8px; font-size:1rem; font-weight:600; cursor:pointer;">
                Request Access
            </button>
        </form>

        <p style="text-align:center; margin-top:16px; font-size:0.85rem; color:#6b7280;">
            Already have an invite code? <a href="/auth/login" style="color:#2563eb;">Sign in here</a>
        </p>
        {% endif %}
    </div>
</div>
</body>
</html>
